document.getElementById('fiche-client').addEventListener('submit', function(event) {
    event.preventDefault();

    const nom = document.getElementById('nom').value;
    const email = document.getElementById('email').value;
    const telephone = document.getElementById('telephone').value;
    const adresse = document.getElementById('adresse').value;
    const longueur = document.getElementById('longueur').value;
    const epaisseur = document.getElementById('epaisseur').value;

    const nbTrous = longueur * 10;
    const nbPoches600ml = (longueur / 10) * (epaisseur / 22) * 3;
    const prixTotal = longueur * 3900;

    document.getElementById('nom-resultat').innerText = nom;
    document.getElementById('email-resultat').innerText = email;
    document.getElementById('telephone-resultat').innerText = telephone;
    document.getElementById('adresse-resultat').innerText = adresse;
    document.getElementById('longueur-resultat').innerText = longueur;
    document.getElementById('epaisseur-resultat').innerText = epaisseur;
    document.getElementById('nb-trous-resultat').innerText = nbTrous;
    document.getElementById('nb-Poches-600ml-resultat').innerText = nbPoches600ml.toFixed(1);
    document.getElementById('prix-total-resultat').innerText = prixTotal.toFixed(2) + ' Rs';

    document.getElementById('resultat').style.display = 'block';

    const templateParams = {
        nom: nom,
        email: email,
        telephone: telephone,
        adresse: adresse,
        longueur: longueur,
        epaisseur: epaisseur,
        nbTrous: nbTrous,
        nbPoches600ml: nbPoches600ml.toFixed(1),
        prixTotal: prixTotal.toFixed(2)
    };

    emailjs.send("service_qp3sjeo", "template_pljm4xp", templateParams)
        .then(function(response) {
            console.log("Email envoyé avec succès !", response.status, response.text);
        }, function(error) {
            console.log("Erreur lors de l'envoi de l'email:", error);
        });
});
